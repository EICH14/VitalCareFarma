<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="pagina para hacer citas medicas en VitalCareFarma">
  <title>Hacer una Cita</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="hacer-cita">
<header id="site-header">
  <div class="header-content">
    <div class="logo-area">
      <img src="Vital.ico" alt="Logo Vital Care" class="logo">
      <a href="home.html" class="logo-link">
        <h1>Vital Care</h1>
      </a>
      <br>
      <div class="hamburger" id="hamburger">&#9776; Menú</div>
      <div id="menu">
        <a href="home.html">Inicio</a><br>
        <a href="hacer-cita.html">Hacer citas</a><br>
        <a href="ver-citas.html">Ver Citas</a>
      </div>
      <script>
        document.getElementById("hamburger").addEventListener("click", function () {
          const menu = document.getElementById("menu");
          menu.style.display = menu.style.display === "block" ? "none" : "block";
        });
      </script>
    </div>
    <div class="contact-info">
      <p><strong>Tel:</strong> <a href="tel:+5072667907">2667907</a></p>
      <p><strong>Correo:</strong> <a href="mailto:vitalcare3@gmail.com">vitalcare3@gmail.com</a></p>
    </div>
  </div>
</header>
<div class="container">
  <main>
    <h2>Reservar Cita</h2>
    <form id="formCita" aria-label="Formulario para reservar cita médica">
      <label for="especialidad">Especialidad</label>
      <select id="especialidad" name="especialidad" required>
        <option value="">Seleccione</option>
        <option value="Dermatología">Dermatología</option>
        <option value="Estimulación Temprana">Estimulación Temprana</option>
        <option value="Gineo-Obstetricia">Gineo-Obstetricia</option>
        <option value="Medicina General">Medicina General</option>
        <option value="Medicina Interna">Medicina Interna</option>
        <option value="Nutrición">Nutrición</option>
        <option value="Optometría">Optometría</option>
        <option value="Pediatría">Pediatría</option>
        <option value="Psiquiatría">Psiquiatría</option>
      </select>

      <label for="medico">Médico</label>
      <select id="medico" name="medico" required>
        <option value="">Seleccione</option>
      </select>

      <label for="horario">Horario</label>
      <input type="text" id="horario" name="horario" readonly>

      <label for="habitacion">Habitación</label>
      <input type="text" id="habitacion" name="habitacion" readonly>

      <label for="tipo">Tipo de cita</label>
      <select id="tipo" name="tipo" required>
        <option value="">Seleccione</option>
        <option value="Nueva">Nueva</option>
        <option value="Control">Control</option>
      </select>

      <button type="submit">Agendar</button>
      <div id="msgCita" aria-live="polite"></div>
    </form>
  </main>
</div>

<script>
  const medicosPorEspecialidad = { "Dermatología": ["Dra. Gómez", "Dr. Ruiz", "Dra. Pérez", "Dr. Mendoza", "Dr. Ortega"],
    "Estimulación Temprana": ["Lic. Mora", "Lic. Villalba", "Lic. Castillo", "Lic. Delgado", "Lic. Ramos"],
    "Gineo-Obstetricia": ["Dra. Herrera", "Dr. Velásquez", "Dra. Ríos", "Dra. Cáceres", "Dr. López"],
    "Medicina General": ["Dr. Díaz", "Dra. Mejía", "Dr. Pérez", "Dra. Silva", "Dr. Torres"],
    "Medicina Interna": ["Dr. Fernández", "Dra. Robles", "Dr. Navarro", "Dra. Peña", "Dr. Cedeño"],
    "Nutrición": ["Lic. Ávila", "Lic. Moreno", "Lic. Guzmán", "Lic. Vargas", "Lic. Campos"],
    "Optometría": ["Lic. Castillo", "Lic. Quiroz", "Lic. Medina", "Lic. Rivas", "Lic. Torres"],
    "Pediatría": ["Dra. Luna", "Dr. Herrera", "Dra. Torres", "Dr. Díaz", "Dra. Paredes"],
    "Psiquiatría": ["Dr. Escobar", "Dra. Navarro", "Dr. Peña", "Dra. Suárez", "Dr. Vega"] };
  
  const horariosHabitaciones = { "Dra. Gómez": { horario: "AM - 08:00", habitacion: "101" },
    "Dr. Ruiz": { horario: "PM - 14:00", habitacion: "102" },
    "Dra. Pérez": { horario: "AM - 09:00", habitacion: "103" },
    "Dr. Mendoza": { horario: "PM - 15:00", habitacion: "104" },
    "Dr. Ortega": { horario: "AM - 10:00", habitacion: "105" },
    "Lic. Mora": { horario: "AM - 08:30", habitacion: "201" },
    "Lic. Villalba": { horario: "PM - 13:30", habitacion: "202" },
    "Lic. Castillo": { horario: "AM - 09:15", habitacion: "203" },
    "Lic. Delgado": { horario: "PM - 14:45", habitacion: "204" },
    "Lic. Ramos": { horario: "AM - 10:30", habitacion: "205" },
    "Dra. Herrera": { horario: "PM - 15:30", habitacion: "301" },
    "Dr. Velásquez": { horario: "AM - 08:45", habitacion: "302" },
    "Dra. Ríos": { horario: "PM - 14:15", habitacion: "303" },
    "Dra. Cáceres": { horario: "AM - 09:30", habitacion: "304" },
    "Dr. López": { horario: "PM - 13:45", habitacion: "305" },
    "Dr. Díaz": { horario: "AM - 07:45", habitacion: "401" },
    "Dra. Mejía": { horario: "PM - 13:00", habitacion: "402" },
    "Dr. Pérez": { horario: "AM - 08:15", habitacion: "403" },
    "Dra. Silva": { horario: "PM - 14:30", habitacion: "404" },
    "Dr. Torres": { horario: "AM - 10:00", habitacion: "405" },
    "Dr. Fernández": { horario: "PM - 16:00", habitacion: "501" },
    "Dra. Robles": { horario: "AM - 07:30", habitacion: "502" },
    "Dr. Navarro": { horario: "PM - 15:15", habitacion: "503" },
    "Dra. Peña": { horario: "AM - 09:45", habitacion: "504" },
    "Dr. Cedeño": { horario: "PM - 13:15", habitacion: "505" },
    "Lic. Ávila": { horario: "AM - 08:10", habitacion: "601" },
    "Lic. Moreno": { horario: "PM - 14:50", habitacion: "602" },
    "Lic. Guzmán": { horario: "AM - 09:40", habitacion: "603" },
    "Lic. Vargas": { horario: "PM - 15:35", habitacion: "604" },
    "Lic. Campos": { horario: "AM - 10:20", habitacion: "605" },
    "Lic. Quiroz": { horario: "PM - 16:10", habitacion: "701" },
    "Lic. Medina": { horario: "AM - 08:55", habitacion: "702" },
    "Lic. Rivas": { horario: "PM - 13:25", habitacion: "703" },
    "Dra. Luna": { horario: "AM - 09:05", habitacion: "801" },
    "Dr. Herrera": { horario: "PM - 14:35", habitacion: "802" },
    "Dra. Torres": { horario: "AM - 07:50", habitacion: "803" },
    "Dra. Paredes": { horario: "PM - 15:05", habitacion: "804" },
    "Dr. Escobar": { horario: "AM - 10:10", habitacion: "901" },
    "Dra. Navarro": { horario: "PM - 16:25", habitacion: "902" },
    "Dr. Peña": { horario: "AM - 09:50", habitacion: "903" },
    "Dra. Suárez": { horario: "PM - 13:55", habitacion: "904" },
    "Dr. Vega": { horario: "AM - 08:05", habitacion: "905" } };

  const especialidadSelect = document.getElementById("especialidad");
  const medicoSelect = document.getElementById("medico");
  const horarioInput = document.getElementById("horario");
  const habitacionInput = document.getElementById("habitacion");
  const tipoSelect = document.getElementById("tipo");
  const formCita = document.getElementById("formCita");
  const msgCita = document.getElementById("msgCita");

  especialidadSelect.addEventListener("change", () => {
    const especialidad = especialidadSelect.value;
    medicoSelect.innerHTML = '<option value="">Seleccione</option>';
    if (medicosPorEspecialidad[especialidad]) {
      medicosPorEspecialidad[especialidad].forEach(medico => {
        const opt = document.createElement("option");
        opt.value = medico;
        opt.textContent = medico;
        medicoSelect.appendChild(opt);
      });
    }
  });

  medicoSelect.addEventListener("change", () => {
    const selected = medicoSelect.value;
    if (horariosHabitaciones[selected]) {
      horarioInput.value = horariosHabitaciones[selected].horario;
      habitacionInput.value = horariosHabitaciones[selected].habitacion;
    } else {
      horarioInput.value = "";
      habitacionInput.value = "";
    }
  });

  formCita.addEventListener("submit", (e) => {
    e.preventDefault();
    const usuario = JSON.parse(localStorage.getItem("usuarioActual"));
    if (!usuario) {
      alert("Debes iniciar sesión.");
      return;
    }

    const cita = {
      cedula: usuario.cedula,
      nombre: usuario.nombre,
      especialidad: especialidadSelect.value,
      medico: medicoSelect.value,
      horario: horarioInput.value,
      habitacion: habitacionInput.value,
      tipo: tipoSelect.value,
      fechaReserva: new Date().toLocaleString()
    };

    const citas = JSON.parse(localStorage.getItem("citas") || "[]");
    citas.push(cita);
    localStorage.setItem("citas", JSON.stringify(citas));

    msgCita.textContent = "¡Cita agendada exitosamente!";
    formCita.reset();
    medicoSelect.innerHTML = '<option value="">Seleccione</option>';
    horarioInput.value = "";
    habitacionInput.value = "";
  });
</script>

<footer id="site-footer">
  <div class="footer-content">
    <div class="footer-contact">
      <p><strong>Tel:</strong> <a href="tel:+5072667907">2667907</a></p>
      <p><strong>Correo:</strong> <a href="mailto:vitalcare3@gmail.com">vitalcare3@gmail.com</a></p>
    </div>
    <div class="footer-links">
      <p><a href="#">Políticas del Hospital</a></p>
      <div class="social">
        <a href="#"><i class="fab fa-whatsapp"></i> WhatsApp</a>
        <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
